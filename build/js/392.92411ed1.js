"use strict";(self["webpackChunkvue3_ts_admin"]=self["webpackChunkvue3_ts_admin"]||[]).push([[392],{2253:function(e,t,a){a.d(t,{Z:function(){return W}});var n=a(3396),o=a(7139);const l={class:"page-content"},i={class:"handle-btns"},r=(0,n.Uk)("编辑 "),s=(0,n.Uk)("删除");function p(e,t,a,p,d,c){const u=(0,n.up)("el-button"),g=(0,n.up)("LhTable");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(g,(0,n.dG)({listData:e.dataList,listCount:e.dataCount},e.contentTableConfig,{"prop-list":e.contentTableConfig.propList,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,n.Nv)({headerHandler:(0,n.w5)((()=>[e.isCreate?((0,n.wg)(),(0,n.j4)(u,{key:0,type:"primary",onClick:e.handleNewClick},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.contentTableConfig?.creatBtn??"新建"),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),enable:(0,n.w5)((e=>[(0,n.Wm)(u,{plain:"",type:e.row.enable?"success":"danger",size:"mini"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createAt:(0,n.w5)((t=>[(0,n.Uk)((0,o.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,n.w5)((t=>[(0,n.Uk)((0,o.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,n.w5)((t=>[(0,n._)("div",i,[e.isUpdate?((0,n.wg)(),(0,n.j4)(u,{key:0,size:"small",text:"",onClick:a=>e.handleEditClick(t.row)},{default:(0,n.w5)((()=>[r])),_:2},1032,["onClick"])):(0,n.kq)("",!0),e.isDelete?((0,n.wg)(),(0,n.j4)(u,{key:1,size:"small",text:"",type:"danger",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,n.w5)((()=>[s])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},[(0,n.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,n.w5)((a=>[t.slotName?(0,n.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,n.kq)("",!0)]))})))]),1040,["listData","listCount","prop-list","page"])])}var d=a(4870),c=a(65);const u={class:"lh-table"},g={class:"header"},m={class:"title"},h={class:"handler"},C={class:"content"},w={key:0,class:"footer"};function f(e,t,a,l,i,r){const s=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),d=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",g,[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n._)("div",m,(0,o.zw)(e.title),1),(0,n._)("div",h,[(0,n.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,n._)("div",C,[(0,n.Wm)(p,(0,n.dG)({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,n.w5)((()=>[e.showSelectColumn?((0,n.wg)(),(0,n.j4)(s,{key:0,type:"selection",align:"center"})):(0,n.kq)("",!0),e.showIndexColumn?((0,n.wg)(),(0,n.j4)(s,{key:1,type:"index",align:"center",label:"序号",width:"70"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.propList,(t=>((0,n.wg)(),(0,n.j4)(s,(0,n.dG)({key:t.prop},t,{"show-overflow-tooltip":"",align:"center"}),{default:(0,n.w5)((a=>[(0,n.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,n.Uk)((0,o.zw)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"])]),e.showFooter?((0,n.wg)(),(0,n.iD)("div",w,[(0,n.WI)(e.$slots,"footer",{},(()=>[(0,n.Wm)(d,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),!0)])):(0,n.kq)("",!0)])}var k=(0,n.aZ)({name:"LhTable",props:{title:{type:String,default:"表格列表"},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!0},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",{...e.page,pageSize:a})},o=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:n,handleCurrentChange:o}}}),y=a(89);const b=(0,y.Z)(k,[["render",f],["__scopeId","data-v-4c6ec426"]]);var v=b,N=v,z=a(2920);function S(e,t){const a=(0,z.oR)(),n=a.state.login.permissions,o=`${e}:${t}`;return!!n.find((e=>-1!==e.indexOf(o)))}var _=(0,n.aZ)({name:"PageContent",components:{LhTable:N},props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const a=(0,c.oR)(),o=S(e.pageName,"create"),l=S(e.pageName,"delete"),i=S(e.pageName,"update"),r=S(e.pageName,"query"),s=(0,d.iH)({currentPage:1,pageSize:10});(0,n.YP)(s,(()=>p()));const p=(t={})=>{delete t.undefined,r&&a.dispatch("system/getPageListDataAction",{pageName:e.pageName,queryInfo:{offset:(s.value.currentPage-1)*s.value.pageSize,size:s.value.pageSize,...t}})};p();const u=(0,n.Fl)((()=>a.getters["system/pageListData"](e.pageName))),g=(0,n.Fl)((()=>a.getters["system/pageCountData"](e.pageName))),m=e.contentTableConfig?.propList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName)))),h=t=>{a.dispatch("system/deletePageDataAction",{id:t.id,pageName:e.pageName})},C=e=>{t("editBtnClick",e)},w=()=>{t("newBtnClick")};return{dataList:u,dataCount:g,getPageData:p,otherPropSlots:m,pageInfo:s,isCreate:o,isDelete:l,isUpdate:i,isQuery:r,handleDeleteClick:h,handleEditClick:C,handleNewClick:w}}});const D=(0,y.Z)(_,[["render",p],["__scopeId","data-v-3a5d7f72"]]);var P=D,W=P},6392:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(3396);function o(e,t,a,o,l,i){const r=(0,n.up)("PageContent");return(0,n.wg)(),(0,n.j4)(r,{contentTableConfig:e.contentTableConfig,pageName:"menu"},null,8,["contentTableConfig"])}var l=a(2253);const i={title:"菜单列表",propList:[{prop:"name",label:"菜单名称",minWidth:"100"},{prop:"type",label:"类型",minWidth:"60"},{prop:"url",label:"菜单url",minWidth:"100"},{prop:"permission",label:"按钮权限",minWidth:"100"},{prop:"createAt",label:"创建时间",minWidth:"150",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"150",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],childrenProps:{rowKey:"id","tree-props":{children:"children"}},showIndexColumn:!1,showFooter:!1};var r=(0,n.aZ)({name:"SystemMenu",components:{PageContent:l.Z},setup(){return{contentTableConfig:i}}}),s=a(89);const p=(0,s.Z)(r,[["render",o]]);var d=p}}]);
//# sourceMappingURL=392.92411ed1.js.map