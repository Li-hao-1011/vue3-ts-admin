"use strict";(self["webpackChunkvue3_ts_admin"]=self["webpackChunkvue3_ts_admin"]||[]).push([[722],{5105:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(3396),o=a(7139);const n={class:"lh-form"},i={class:"header"},r={class:"footer"};function d(e,t,a,d,s,u){const p=(0,l.up)("el-input"),c=(0,l.up)("el-option"),m=(0,l.up)("el-select"),g=(0,l.up)("el-date-picker"),f=(0,l.up)("el-form-item"),h=(0,l.up)("el-col"),w=(0,l.up)("el-row"),C=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",i,[(0,l.WI)(e.$slots,"header")]),(0,l.Wm)(C,{"label-width":e.labelWidth},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formItems,((t,a)=>((0,l.wg)(),(0,l.j4)(h,(0,o.vs)((0,l.dG)({key:a},e.colLayout)),{default:(0,l.w5)((()=>[t.isHidden?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,label:t.label,rules:t.rules,class:"form-item",style:(0,o.j5)(e.itemStyle)},{default:(0,l.w5)((()=>["input"===t.type||"password"===t.type?((0,l.wg)(),(0,l.j4)(p,(0,l.dG)({key:0,"model-value":e.modelValue[`${t.field}`],placeholder:t.placeHolder,"show-password":"password"===t.type,"onUpdate:modelValue":a=>e.handleValueChange(a,t.field)},t.otherOption,{style:{width:"100%"}}),null,16,["model-value","placeholder","show-password","onUpdate:modelValue"])):"select"===t.type?((0,l.wg)(),(0,l.j4)(m,(0,l.dG)({key:1,"model-value":e.modelValue[`${t.field}`],placeholder:t.placeHolder,style:{width:"100%"},"onUpdate:modelValue":a=>e.handleValueChange(a,t.field)},t.otherOption),{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.options,(e=>((0,l.wg)(),(0,l.j4)(c,{key:e.value,value:e.value,label:e.label},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.label),1)])),_:2},1032,["value","label"])))),128))])),_:2},1040,["model-value","placeholder","onUpdate:modelValue"])):"datepicker"===t.type?((0,l.wg)(),(0,l.j4)(g,(0,l.dG)({key:2,"model-value":e.modelValue[`${t.field}`]},t.otherOption,{style:{width:"100%"},"onUpdate:modelValue":a=>e.handleValueChange(a,t.field)}),null,16,["model-value","onUpdate:modelValue"])):(0,l.kq)("",!0)])),_:2},1032,["label","rules","style"]))])),_:2},1040)))),128))])),_:1})])),_:1},8,["label-width"]),(0,l._)("div",r,[(0,l.WI)(e.$slots,"footer")])])}var s=a(4870),u=(0,l.aZ)({name:"LhForm",props:{formItems:{type:Array,default:()=>[]},modelValue:{type:Object,required:!0},labelWidth:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>({padding:"10px 40px"})},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,s.iH)({...e.modelValue});(0,l.YP)(a,(e=>{t("update:modelValue",e)}),{deep:!0});const o=(a,l)=>{t("update:modelValue",{...e.modelValue,[l]:a})};return{formData:a,handleValueChange:o}}}),p=a(89);const c=(0,p.Z)(u,[["render",d]]);var m=c,g=m},2253:function(e,t,a){a.d(t,{Z:function(){return z}});var l=a(3396),o=a(7139);const n={class:"page-content"},i={class:"handle-btns"},r=(0,l.Uk)("编辑 "),d=(0,l.Uk)("删除");function s(e,t,a,s,u,p){const c=(0,l.up)("el-button"),m=(0,l.up)("LhTable");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(m,(0,l.dG)({listData:e.dataList,listCount:e.dataCount},e.contentTableConfig,{"prop-list":e.contentTableConfig.propList,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,l.Nv)({headerHandler:(0,l.w5)((()=>[e.isCreate?((0,l.wg)(),(0,l.j4)(c,{key:0,type:"primary",onClick:e.handleNewClick},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.contentTableConfig?.creatBtn??"新建"),1)])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),enable:(0,l.w5)((e=>[(0,l.Wm)(c,{plain:"",type:e.row.enable?"success":"danger",size:"mini"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createAt:(0,l.w5)((t=>[(0,l.Uk)((0,o.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,l.w5)((t=>[(0,l.Uk)((0,o.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,l.w5)((t=>[(0,l._)("div",i,[e.isUpdate?((0,l.wg)(),(0,l.j4)(c,{key:0,size:"small",text:"",onClick:a=>e.handleEditClick(t.row)},{default:(0,l.w5)((()=>[r])),_:2},1032,["onClick"])):(0,l.kq)("",!0),e.isDelete?((0,l.wg)(),(0,l.j4)(c,{key:1,size:"small",text:"",type:"danger",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,l.w5)((()=>[d])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])])),_:2},[(0,l.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,l.w5)((a=>[t.slotName?(0,l.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,l.kq)("",!0)]))})))]),1040,["listData","listCount","prop-list","page"])])}var u=a(4870),p=a(65);const c={class:"lh-table"},m={class:"header"},g={class:"title"},f={class:"handler"},h={class:"content"},w={key:0,class:"footer"};function C(e,t,a,n,i,r){const d=(0,l.up)("el-table-column"),s=(0,l.up)("el-table"),u=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",m,[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l._)("div",g,(0,o.zw)(e.title),1),(0,l._)("div",f,[(0,l.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,l._)("div",h,[(0,l.Wm)(s,(0,l.dG)({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,l.w5)((()=>[e.showSelectColumn?((0,l.wg)(),(0,l.j4)(d,{key:0,type:"selection",align:"center"})):(0,l.kq)("",!0),e.showIndexColumn?((0,l.wg)(),(0,l.j4)(d,{key:1,type:"index",align:"center",label:"序号",width:"70"})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.propList,(t=>((0,l.wg)(),(0,l.j4)(d,(0,l.dG)({key:t.prop},t,{"show-overflow-tooltip":"",align:"center"}),{default:(0,l.w5)((a=>[(0,l.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,l.Uk)((0,o.zw)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"])]),e.showFooter?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.WI)(e.$slots,"footer",{},(()=>[(0,l.Wm)(u,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),!0)])):(0,l.kq)("",!0)])}var y=(0,l.aZ)({name:"LhTable",props:{title:{type:String,default:"表格列表"},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!0},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},l=a=>{t("update:page",{...e.page,pageSize:a})},o=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:l,handleCurrentChange:o}}}),k=a(89);const v=(0,k.Z)(y,[["render",C],["__scopeId","data-v-4c6ec426"]]);var b=v,_=b,D=a(2920);function V(e,t){const a=(0,D.oR)(),l=a.state.login.permissions,o=`${e}:${t}`;return!!l.find((e=>-1!==e.indexOf(o)))}var S=(0,l.aZ)({name:"PageContent",components:{LhTable:_},props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const a=(0,p.oR)(),o=V(e.pageName,"create"),n=V(e.pageName,"delete"),i=V(e.pageName,"update"),r=V(e.pageName,"query"),d=(0,u.iH)({currentPage:1,pageSize:10});(0,l.YP)(d,(()=>s()));const s=(t={})=>{delete t.undefined,r&&a.dispatch("system/getPageListDataAction",{pageName:e.pageName,queryInfo:{offset:(d.value.currentPage-1)*d.value.pageSize,size:d.value.pageSize,...t}})};s();const c=(0,l.Fl)((()=>a.getters["system/pageListData"](e.pageName))),m=(0,l.Fl)((()=>a.getters["system/pageCountData"](e.pageName))),g=e.contentTableConfig?.propList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName)))),f=t=>{a.dispatch("system/deletePageDataAction",{id:t.id,pageName:e.pageName})},h=e=>{t("editBtnClick",e)},w=()=>{t("newBtnClick")};return{dataList:c,dataCount:m,getPageData:s,otherPropSlots:g,pageInfo:d,isCreate:o,isDelete:n,isUpdate:i,isQuery:r,handleDeleteClick:f,handleEditClick:h,handleNewClick:w}}});const I=(0,k.Z)(S,[["render",s],["__scopeId","data-v-3a5d7f72"]]);var N=I,z=N},6814:function(e,t,a){a.d(t,{Z:function(){return h}});var l=a(3396);const o={class:"page-model"},n={class:"dialog-footer"},i=(0,l.Uk)("取消"),r=(0,l.Uk)("确定");function d(e,t,a,d,s,u){const p=(0,l.up)("LhForm"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(m,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),title:e.modalConfig.title,width:"30%",center:"","destroy-on-close":""},{footer:(0,l.w5)((()=>[(0,l._)("span",n,[(0,l.Wm)(c,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(c,{type:"primary",onClick:e.handleConfirmClick},{default:(0,l.w5)((()=>[r])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(p,(0,l.dG)({modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)},e.modalConfig),null,16,["modelValue"]),(0,l.WI)(e.$slots,"default")])),_:3},8,["modelValue","title"])])}var s=a(4870),u=a(5105),p=a(2920),c=(0,l.aZ)({components:{LhForm:u.Z},props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0},otherInfo:{type:Object,default:()=>({})}},setup(e){const t=(0,p.oR)(),a=(0,s.iH)(!1),o=(0,s.iH)({});(0,l.YP)((()=>e.defaultInfo),(t=>{for(const a of e.modalConfig.formItems)o.value[`${a.field}`]=t[`${a.field}`]}));const n=()=>{a.value=!1,Object.keys(e.defaultInfo).length?t.dispatch("system/editPageDataAction",{pageName:e.pageName,editData:{...o.value,...e.otherInfo},id:e.defaultInfo.id}):t.dispatch("system/createPageDataAction",{pageName:e.pageName,newData:{...o.value,...e.otherInfo}})};return{dialogVisible:a,formData:o,handleConfirmClick:n}}}),m=a(89);const g=(0,m.Z)(c,[["render",d]]);var f=g,h=f},95:function(e,t,a){a.d(t,{Z:function(){return _}});var l=a(3396);const o={class:"page-seach"},n={class:"page-search-footer"},i=(0,l.Uk)(" 重置 "),r=(0,l.Uk)(" 搜索 ");function d(e,t,a,d,s,u){const p=(0,l.up)("RefreshLeft"),c=(0,l.up)("el-icon"),m=(0,l.up)("el-button"),g=(0,l.up)("Search"),f=(0,l.up)("lh-form");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(f,(0,l.dG)(e.searchConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),{footer:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l.Wm)(m,{onClick:e.handleResetClick},{icon:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),default:(0,l.w5)((()=>[i])),_:1},8,["onClick"]),(0,l.Wm)(m,{type:"primary",onClick:e.handleSearchClick},{icon:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1})])),default:(0,l.w5)((()=>[r])),_:1},8,["onClick"])])])),_:1},16,["modelValue"])])}var s=a(4870),u=a(6854);const p=(0,l.aZ)({name:"Search"}),c={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},m=(0,l._)("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),g=[m];function f(e,t,a,o,n,i){return(0,l.wg)(),(0,l.iD)("svg",c,g)}var h=(0,u.Z)(p,[["render",f]]),w=a(8787),C=a(5105),y=(0,l.aZ)({name:"PageSearch",components:{LhForm:C.Z,Search:h,RefreshLeft:w.Z},props:{searchConfig:{type:Object,required:!0},title:{type:String,default:"高级检索"}},emits:["searchBtnClick","resetBtnClick"],setup(e,{emit:t}){const a={},l=e.searchConfig?.formItems??[];for(const r of l)a[r.filed]="";const o=(0,s.iH)(a),n=()=>{o.value=a,t("resetBtnClick")},i=()=>{t("searchBtnClick",o.value)};return{formData:o,handleResetClick:n,handleSearchClick:i}}}),k=a(89);const v=(0,k.Z)(y,[["render",d],["__scopeId","data-v-4b654114"]]);var b=v,_=b},7876:function(e,t,a){a.d(t,{S:function(){return o}});var l=a(4870);const o=(e,t)=>{const a=(0,l.iH)(),o=(0,l.iH)({}),n=e=>{a.value&&(a.value.dialogVisible=!0),o.value={...e},t&&t(e)},i=()=>{o.value={},a.value&&(a.value.dialogVisible=!0),e&&e()};return[o,a,i,n]}}}]);
//# sourceMappingURL=722.f351b0a1.js.map