{"version":3,"file":"js/111.d924376b.js","mappings":"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","sources":["webpack://vue3-ts-admin/./node_modules/vue-loader/dist/templateLoader.js","webpack://vue3-ts-admin/./src/view/main/system/role/config/search.config.ts","webpack://vue3-ts-admin/./src/view/main/system/role/config/content.config.ts","webpack://vue3-ts-admin/./src/view/main/system/role/config/modal.config.ts","webpack://vue3-ts-admin/./node_modules/vue-loader/dist/index.js","webpack://vue3-ts-admin/./src/view/main/system/role/Role.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-47b4ee3d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"role\" }\nconst _hoisted_2 = { class: \"search\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = { class: \"menu-tree\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_role_search = _resolveComponent(\"role-search\")!\n  const _component_role_content = _resolveComponent(\"role-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_role_modal = _resolveComponent(\"role-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_role_search, { \"search-config\": _ctx.searchFormConfig }, null, 8, [\"search-config\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_role_content, {\n        \"content-table-config\": _ctx.contentTableConfig,\n        \"page-name\": \"role\",\n        onNewBtnClick: _ctx.handleNewData,\n        onEditBtnClick: _ctx.handleEditData\n      }, null, 8, [\"content-table-config\", \"onNewBtnClick\", \"onEditBtnClick\"])\n    ]),\n    _createVNode(_component_role_modal, {\n      \"modal-config\": _ctx.modalConfig,\n      defaultInfo: _ctx.modalInfo,\n      \"page-name\": \"role\",\n      ref: \"pageModalRef\",\n      \"other-info\": _ctx.otherInfo\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_el_tree, {\n            ref: \"menuTreeRef\",\n            data: _ctx.menuOptions,\n            \"show-checkbox\": \"\",\n            \"node-key\": \"id\",\n            props: _ctx.defaultProps,\n            onCheck: _ctx.handleCheckClick\n          }, null, 8, [\"data\", \"props\", \"onCheck\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"modal-config\", \"defaultInfo\", \"other-info\"])\n  ]))\n}","import { IForm } from '@/base-ui/LhFrom/types'\n\nexport const searchFormConfig: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      type: 'input',\n      label: '角色名称',\n      placeHolder: '请输入角色名称',\n      rules: []\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '权限介绍',\n      placeHolder: '请输入权限介绍',\n      rules: []\n    },\n    {\n      field: 'createAt',\n      type: 'datepicker',\n      label: '创建时间',\n      rules: [],\n      otherOption: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: 'daterange'\n      }\n    }\n  ],\n  labelWidth: '100px',\n  itemStyle: { padding: '10px 40px' },\n  colLayout: {\n    xl: 6,\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24\n  }\n}\n\nexport interface IPropList {\n  prop?: string\n  label?: string\n  minWiath?: string\n  slotName?: string\n}\n","import { IPropList } from './search.config'\n\ninterface contentTableConfig {\n  title: string\n  propList: IPropList[]\n  showIndexColumn: boolean\n  showSelectColumn: boolean\n  handleSelectionChange: () => void\n}\n\nexport const contentTableConfig: contentTableConfig = {\n  title: '角色列表',\n\n  propList: [\n    { prop: 'name', label: '角色名', minWiath: '100', slotName: 'name' },\n    { prop: 'intro', label: '角色介绍', minWiath: '100', slotName: 'intro' },\n    { prop: 'createAt', label: '创建时间', minWiath: '200', slotName: 'createAt' },\n    { prop: 'updateAt', label: '更新时间', minWiath: '200', slotName: 'updateAt' },\n    { label: '操作', minWiath: '120', slotName: 'handler' }\n  ],\n\n  showIndexColumn: true,\n  showSelectColumn: true,\n  handleSelectionChange: () => {\n    //\n  }\n}\n","import { IForm } from '@/base-ui/LhFrom'\n\nexport const modalConfig: IForm = {\n  title: '新建角色',\n  formItems: [\n    { field: 'name', type: 'input', label: '角色名', placeHolder: '请输入角色名' },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '角色介绍',\n      placeHolder: '请输入角色介绍'\n    }\n  ],\n  colLayout: {\n    span: 24\n  },\n  itemStyle: { padding: 0 }\n}\n","\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport { ElTree } from 'element-plus'\n\nimport RoleSearch from '@/components/page-search'\nimport RoleContent from '@/components/page-content'\nimport RoleModal from '@/components/page-modal'\n\nimport { searchFormConfig } from './config/search.config'\nimport { contentTableConfig } from './config/content.config'\nimport { modalConfig } from './config/modal.config'\nimport { usePageModal } from '@/hooks/usePageModal'\nimport { useStore } from '@/store'\nimport { getMenuLeafKeys } from '@/utils/mapMenus'\n\ntype IHandler = () => void\n\nexport default defineComponent({\n  name: 'SystemRole',\n  components: { RoleContent, RoleSearch, RoleModal },\n\n  setup() {\n    const menuTreeRef = ref<InstanceType<typeof ElTree>>()\n    const store = useStore()\n    const otherInfo = ref({})\n    const handleCheckClick = (data1: any, data2: any) => {\n      //\n      const { checkedKeys, halfCheckedKeys } = data2\n      const checketMenus = [...checkedKeys, ...halfCheckedKeys]\n      otherInfo.value = { menuList: checketMenus }\n    }\n\n    // 新增、编辑\n    // callBack处理输入框是否显示\n    const newCallBack = () => {\n      modalConfig.title = '新建角色'\n    }\n    const editCallback = (data: any) => {\n      modalConfig.title = '编辑角色'\n      // console.log(data.menuList)\n      // console.log(getMenuLeafKeys(data.menuList))\n\n      nextTick(() => {\n        menuTreeRef.value?.setCheckedKeys(getMenuLeafKeys(data.menuList), false)\n      })\n    }\n    const [modalInfo, pageModalRef, handleNewDataFn, handleEditDataFn] = usePageModal(\n      newCallBack,\n      editCallback\n    )\n    const handleEditData: IHandler = handleEditDataFn as IHandler\n    const handleNewData: IHandler = handleNewDataFn as IHandler\n\n    const defaultProps = {\n      children: 'children',\n      label: 'name'\n    }\n\n    const menuOptions = computed(() => store.state.entireMenus)\n\n    return {\n      contentTableConfig,\n      searchFormConfig,\n      modalConfig,\n\n      modalInfo,\n      pageModalRef,\n      handleNewData,\n      handleEditData,\n\n      defaultProps,\n      menuOptions,\n      otherInfo,\n      handleCheckClick,\n      menuTreeRef\n    }\n  }\n})\n","import { render } from \"./Role.vue?vue&type=template&id=47b4ee3d&scoped=true&ts=true\"\nimport script from \"./Role.vue?vue&type=script&lang=ts\"\nexport * from \"./Role.vue?vue&type=script&lang=ts\"\n\nimport \"./Role.vue?vue&type=style&index=0&id=47b4ee3d&scoped=true&lang=less\"\n\nimport exportComponent from \"F:\\\\coding\\\\vue\\\\vue3-ts-admin\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47b4ee3d\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_role_search","_resolveComponent","_component_role_content","_component_el_tree","_component_role_modal","_openBlock","_createElementBlock","_createElementVNode","_createVNode","searchFormConfig","contentTableConfig","onNewBtnClick","handleNewData","onEditBtnClick","handleEditData","modalConfig","defaultInfo","modalInfo","ref","otherInfo","default","_withCtx","data","menuOptions","props","defaultProps","onCheck","handleCheckClick","_","formItems","field","type","label","placeHolder","rules","otherOption","startPlaceholder","endPlaceholder","labelWidth","itemStyle","padding","colLayout","xl","lg","md","sm","xs","title","propList","prop","minWiath","slotName","showIndexColumn","showSelectColumn","handleSelectionChange","span","defineComponent","name","components","RoleContent","RoleSearch","RoleModal","setup","menuTreeRef","store","useStore","data1","data2","checkedKeys","halfCheckedKeys","checketMenus","value","menuList","newCallBack","editCallback","nextTick","setCheckedKeys","getMenuLeafKeys","pageModalRef","handleNewDataFn","handleEditDataFn","usePageModal","children","computed","state","entireMenus","__exports__"],"sourceRoot":""}